{% extends 'base.html.twig' %}

{% block title %}Lieux Culturels — Binajia{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-yellow-50">
    <!-- Hero Section -->
    <section class="relative py-20 text-white overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-br from-green-600 via-emerald-600 to-yellow-500"></div>
        
        <!-- Floating Elements -->
        <div class="absolute inset-0 overflow-hidden">
            <div class="absolute top-10 left-10 w-32 h-32 bg-yellow-300 rounded-full opacity-20 blur-3xl animate-float"></div>
            <div class="absolute top-40 right-20 w-48 h-48 bg-green-400 rounded-full opacity-15 blur-3xl animate-float" style="animation-delay: 2s;"></div>
            <div class="absolute bottom-20 left-1/4 w-24 h-24 bg-white rounded-full opacity-10 blur-2xl animate-float" style="animation-delay: 4s;"></div>
        </div>

        <div class="container mx-auto px-4 relative z-10">
            <div class="max-w-6xl mx-auto text-center">
                <h1 class="text-5xl md:text-6xl font-bold text-gray-900 drop-shadow-lg mb-6 leading-tight bg-gradient-to-r from-green-500 via-yellow-500 to-green-500 bg-clip-text text-transparent">
                    Lieux Culturels
                </h1>
                
                <p class="text-xl md:text-2xl text-white/90 mb-2 max-w-3xl mx-auto leading-relaxed">
                    Explorez les lieux emblématiques et partenaires au Bénin et au Nigéria
                </p>
                
                <p class="text-lg text-white/80 max-w-2xl mx-auto">
                    Découvrez les trésors culturels qui font vibrer l'âme africaine
                </p>
            </div>
        </div>
    </section>

    <!-- Filtres et Recherche -->
    <section class="py-8 bg-white/80 backdrop-blur-sm sticky top-0 z-20 border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row gap-4 items-center justify-between">
                <div class="flex flex-wrap gap-3">
                    <button class="px-4 py-2 bg-green-500 text-white rounded-full text-sm font-medium transition-all hover:bg-green-600 active:scale-95">
                        Tous les lieux
                    </button>
                    <button class="px-4 py-2 bg-white text-gray-700 rounded-full text-sm font-medium border border-gray-300 transition-all hover:border-green-500 hover:text-green-600 active:scale-95">
                        Bénin
                    </button>
                    <button class="px-4 py-2 bg-white text-gray-700 rounded-full text-sm font-medium border border-gray-300 transition-all hover:border-green-500 hover:text-green-600 active:scale-95">
                        Nigéria
                    </button>
                    <button class="px-4 py-2 bg-white text-gray-700 rounded-full text-sm font-medium border border-gray-300 transition-all hover:border-green-500 hover:text-green-600 active:scale-95">
                        Musées
                    </button>
                    <button class="px-4 py-2 bg-white text-gray-700 rounded-full text-sm font-medium border border-gray-300 transition-all hover:border-green-500 hover:text-green-600 active:scale-95">
                        Sites historiques
                    </button>
                </div>
                
                <div class="relative w-full md:w-64">
                    <input 
                        type="text" 
                        placeholder="Rechercher un lieu..." 
                        class="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all"
                    >
                    <svg class="absolute left-3 top-2.5 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                </div>
            </div>
        </div>
    </section>

    <!-- Grille des Lieux -->
    <section class="py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            {% if places is not empty %}
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                {% for place in places %}
                {% set slug = place.title|lower|replace({" ": "-", "'": ""}) %}
                <article class="group bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 overflow-hidden border border-gray-100">
                    <div class="relative h-48 overflow-hidden">
                        {% if place.image %}
                            <img 
                                src="{{ path('secure_upload', {'filename': place.image}) }}" 
                                alt="{{ place.title }}" 
                                class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"
                            >
                        {% else %}
                            <div class="w-full h-full bg-gradient-to-br from-green-100 to-yellow-100 flex items-center justify-center">
                                <svg class="w-16 h-16 text-green-400 group-hover:scale-110 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21l-7-5-7 5V5a2 2 0 012-2h10a2 2 0 012 2v16z"/>
                                </svg>
                            </div>
                        {% endif %}
                        
                        <!-- Badge du pays -->
                        <div class="absolute top-3 right-3">
                            <span class="px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-medium text-gray-700">
                                {{ place.country ?: 'Afrique' }}
                            </span>
                        </div>
                        
                        <!-- Overlay au hover -->
                        <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-500"></div>
                    </div>
                    
                    <div class="p-6">
                        <h3 class="font-bold text-xl text-gray-800 group-hover:text-green-600 transition-colors duration-300 mb-2 line-clamp-2">
                            {{ place.title }}
                        </h3>
                        
                        <p class="text-gray-600 text-sm mb-4 line-clamp-2">
                            {{ place.description|default('Découvrez ce lieu culturel exceptionnel et son histoire riche') }}
                        </p>
                        
                        <div class="flex items-center justify-between">
                            <div class="flex items-center text-sm text-gray-500">
                                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                                </svg>
                                {{ place.city|default('Lieu culturel') }}
                            </div>
                            
                            <a href="{{ path('app_place_show', {slug: slug}) }}" 
                               class="inline-flex items-center text-green-600 font-medium text-sm group-hover:text-green-700 transition-colors">
                                Explorer
                                <svg class="w-4 h-4 ml-1 transform group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                </article>
                {% endfor %}
            </div>
            {% else %}
            <!-- État vide -->
            <div class="text-center py-20">
                <div class="max-w-md mx-auto">
                    <div class="w-24 h-24 bg-gradient-to-br from-green-100 to-yellow-100 rounded-full flex items-center justify-center mx-auto mb-6">
                        <svg class="w-12 h-12 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21l-7-5-7 5V5a2 2 0 012-2h10a2 2 0 012 2v16z"/>
                        </svg>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-3">Aucun lieu disponible</h3>
                    <p class="text-gray-600 mb-8">
                        Nous préparons actuellement la découverte de nos lieux culturels partenaires.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <a href="{{ path('app_home') }}" 
                           class="inline-flex items-center justify-center px-6 py-3 bg-green-500 text-white rounded-full font-medium hover:bg-green-600 transition-colors">
                            Retour à l'accueil
                        </a>
                        <a href="{{ path('app_contact') }}" 
                           class="inline-flex items-center justify-center px-6 py-3 border border-green-500 text-green-600 rounded-full font-medium hover:bg-green-50 transition-colors">
                            Nous contacter
                        </a>
                    </div>
                </div>
            </div>
            {% endif %}
            
            <!-- Pagination -->
            {% if places is not empty and places|length >= 12 %}
            <div class="mt-16 flex justify-center">
                <nav class="flex items-center space-x-2">
                    <button class="px-4 py-2 text-gray-500 rounded-lg hover:bg-gray-100 transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    
                    <button class="px-4 py-2 bg-green-500 text-white rounded-lg font-medium">1</button>
                    <button class="px-4 py-2 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors">2</button>
                    <button class="px-4 py-2 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors">3</button>
                    
                    <button class="px-4 py-2 text-gray-500 rounded-lg hover:bg-gray-100 transition-colors">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                        </svg>
                    </button>
                </nav>
            </div>
            {% endif %}
        </div>
    </section>

    <!-- CTA Section -->
    <section class="py-16 bg-gradient-to-br from-green-600 via-emerald-600 to-green-700 text-white">
        <div class="max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl md:text-4xl font-bold mb-6">
                Proposez un lieu culturel
            </h2>
            <p class="text-xl text-white/90 mb-8 max-w-2xl mx-auto">
                Vous connaissez un lieu culturel exceptionnel qui mérite d'être mis en avant ? 
                Contribuez à enrichir notre patrimoine.
            </p>
            <a href="{{ path('app_contact') }}" 
               class="inline-flex items-center justify-center px-8 py-4 bg-yellow-400 text-gray-900 rounded-full font-bold text-lg hover:bg-yellow-500 transition-colors transform hover:scale-105 duration-300">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                </svg>
                Proposer un lieu
            </a>
        </div>
    </section>
</div>

<style>
@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
}

.animate-float {
    animation: float 6s ease-in-out infinite;
}

.line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* Animation d'apparition progressive */
.fade-in-up {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.6s ease-out;
}

.fade-in-up.visible {
    opacity: 1;
    transform: translateY(0);
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Animation d'apparition des cartes
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, { threshold: 0.1 });

    document.querySelectorAll('article').forEach(card => {
        card.classList.add('fade-in-up');
        observer.observe(card);
    });

    // Filtres interactifs
    const filterButtons = document.querySelectorAll('button:not([class*="px-8"])');
    filterButtons.forEach(button => {
        button.addEventListener('click', function() {
            filterButtons.forEach(btn => {
                btn.classList.remove('bg-green-500', 'text-white');
                btn.classList.add('bg-white', 'text-gray-700', 'border', 'border-gray-300');
            });
            this.classList.add('bg-green-500', 'text-white');
            this.classList.remove('bg-white', 'text-gray-700', 'border', 'border-gray-300');
        });
    });
});
</script>
{% endblock %}