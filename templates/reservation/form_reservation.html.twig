{% extends "base.html.twig" %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-emerald-50 via-amber-50 to-cyan-50 py-12 px-4 sm:px-6 lg:px-8" style="background: linear-gradient(135deg, rgba(0, 135, 29, 0.9), rgba(0, 135, 81, 0.9), rgb(255, 174, 0))">
    
    {# Header Section #}
    <section class="relative overflow-hidden py-10 lg:py-24">
        {# Background elements décoratifs #}
        <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC4wNSkiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMC0yLjIwOS0xLjc5MS00LTQtNHMtNCAxLjc5MS00IDQgMS43OTEgNCA0IDQgNC0xLjc5MSA0LTR6Ii8+PC9nPjwvZz48L3N2Zz4=')]"></div>
        <div class="absolute top-10 right-10 w-64 h-64 bg-yellow-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"></div>
        <div class="absolute bottom-10 left-10 w-72 h-72 bg-green-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse animation-delay-2000"></div>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="text-center">
                {# Titre principal avec dégradé spectaculaire #}
                <h1 class="text-4xl md:text-6xl lg:text-7xl xl:text-6xl font-black leading-tight">
                    <span class="bg-gradient-to-r from-yellow-400 via-green-400 to-yellow-500 bg-clip-text text-transparent">
                        Formulaire de Réservation
                    </span>
                </h1>
                
                {# Sous-titre avec effet de brillance #}
                <h2 class="text-lg md:text-xl lg:text-2xl font-light text-white/90 mb-3 tracking-wide">
                    <span class="bg-gradient-to-r from-white via-amber-100 to-white bg-clip-text text-transparent">
                        Réservez en toute sérénité
                    </span>
                </h2>
                
                {# Ligne décorative #}
                <div class="w-32 h-1 bg-gradient-to-r from-yellow-400 to-green-400 mx-auto rounded-full mb-8 shadow-lg"></div>
                
                
            </div>
        </div>
    </section>

    {# Form Section #}
    <div class="max-w-6xl mx-auto px-4 py-3 -mt-8 lg:-mt-16 relative z-20">
       
        {{ form_start(form, {'attr': {'class': 'space-y-8 bg-white/10 backdrop-blur-md rounded-3xl shadow-2xl border border-white/20 p-6 lg:p-8'}}) }}

        {# Informations personnelles #}
        <div class="border-b border-white/20 pb-8">
            <div class="flex items-center mb-6">
                <div class="w-10 h-10 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center mr-4 shadow-lg">
                    <i class="fas fa-user text-white text-lg"></i>
                </div>
                <div>
                    <h2 class="text-xl lg:text-2xl font-bold text-white">Informations personnelles</h2>
                    <p class="text-white/80 text-sm mt-1">Vos coordonnées de contact</p>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 lg:gap-6">
                <div class="space-y-2">
                    {{ form_label(form.Nom, 'Nom complet *', {'label_attr': {'class': 'block text-sm font-semibold text-white mb-2'}}) }}
                    <div class="relative">
                        {{ form_widget(form.Nom, {'attr': {
                            'class': 'w-full px-4 py-3 lg:py-4 border border-white/20 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all duration-300 bg-white/10 text-white placeholder-white/50 hover:bg-white/20 shadow-sm',
                            'placeholder': 'Ex: Jean Dupont'
                        }}) }}
                        <i class="fas fa-user absolute right-4 top-1/2 transform -translate-y-1/2 text-white/60"></i>
                    </div>
                    {{ form_errors(form.Nom) }}
                </div>
                
                <div class="space-y-2">
                    {{ form_label(form.email, 'Email *', {'label_attr': {'class': 'block text-sm font-semibold text-white mb-2'}}) }}
                    <div class="relative">
                        {{ form_widget(form.email, {'attr': {
                            'class': 'w-full px-4 py-3 lg:py-4 border border-white/20 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all duration-300 bg-white/10 text-white placeholder-white/50 hover:bg-white/20 shadow-sm',
                            'placeholder': 'Ex: jean.dupont@email.com'
                        }}) }}
                        <i class="fas fa-envelope absolute right-4 top-1/2 transform -translate-y-1/2 text-white/60"></i>
                    </div>
                    {{ form_errors(form.email) }}
                </div>
                
                <div class="space-y-2">
                    {{ form_label(form.telephone, 'Téléphone *', {'label_attr': {'class': 'block text-sm font-semibold text-white mb-2'}}) }}
                    <div class="relative">
                        {{ form_widget(form.telephone, {'attr': {
                            'class': 'w-full px-4 py-3 lg:py-4 border border-white/20 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all duration-300 bg-white/10 text-white placeholder-white/50 hover:bg-white/20 shadow-sm',
                            'placeholder': 'Ex: +33 1 23 45 67 89'
                        }}) }}
                        <i class="fas fa-phone absolute right-4 top-1/2 transform -translate-y-1/2 text-white/60"></i>
                    </div>
                    {{ form_errors(form.telephone) }}
                </div>
                
                <div class="space-y-2">
                    {{ form_label(form.paysresidence, 'Pays de résidence *', {'label_attr': {'class': 'block text-sm font-semibold text-white mb-2'}}) }}
                    <div class="relative">
                        {{ form_widget(form.paysresidence, {'attr': {
                            'class': 'w-full px-4 py-3 lg:py-4 border border-white/20 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all duration-300 bg-white/10 text-white placeholder-white/50 hover:bg-white/20 shadow-sm',
                            'placeholder': 'Ex: France'
                        }}) }}
                        <i class="fas fa-globe absolute right-4 top-1/2 transform -translate-y-1/2 text-white/60"></i>
                    </div>
                    {{ form_errors(form.paysresidence) }}
                </div>
            </div>
        </div>

        {# Détails du voyage #}
        <div class="border-b border-white/20 pb-8">
            <div class="flex items-center mb-6">
                <div class="w-10 h-10 bg-gradient-to-r from-yellow-500 to-yellow-600 rounded-full flex items-center justify-center mr-4 shadow-lg">
                    <i class="fas fa-plane text-white text-lg"></i>
                </div>
                <div>
                    <h2 class="text-xl lg:text-2xl font-bold text-white">Détails du voyage</h2>
                    <p class="text-white/80 text-sm mt-1">Informations sur votre séjour</p>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 lg:gap-6">
                <div class="space-y-2">
                    {{ form_label(form.destination, 'Destination *', {'label_attr': {'class': 'block text-sm font-semibold text-white mb-2'}}) }}
                    <div class="relative">
                        {{ form_widget(form.destination, {'attr': {
                            'class': 'w-full px-4 py-3 lg:py-4 border border-white/20 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all duration-300 bg-white/10 text-white placeholder-white/50 hover:bg-white/20 shadow-sm',
                            'placeholder': 'Ex: Bénin'
                        }}) }}
                        <i class="fas fa-map-marker-alt absolute right-4 top-1/2 transform -translate-y-1/2 text-white/60"></i>
                    </div>
                    {{ form_errors(form.destination) }}
                </div>
                
                <div class="space-y-2">
                    {{ form_label(form.datedepart, 'Date de départ *', {'label_attr': {'class': 'block text-sm font-semibold text-white mb-2'}}) }}
                    <div class="relative">
                        {{ form_widget(form.datedepart, {'attr': {
                            'class': 'w-full px-4 py-3 lg:py-4 border border-white/20 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all duration-300 bg-white/10 text-white hover:bg-white/20 shadow-sm',
                            'type': 'datetime-local'
                        }}) }}
                        <i class="fas fa-calendar-alt absolute right-4 top-1/2 transform -translate-y-1/2 text-white/60"></i>
                    </div>
                    {{ form_errors(form.datedepart) }}
                </div>
                
                <div class="space-y-2">
                    {{ form_label(form.nbrvoyageurs, 'Nombre de voyageurs *', {'label_attr': {'class': 'block text-sm font-semibold text-white mb-2'}}) }}
                    <div class="relative">
                        {{ form_widget(form.nbrvoyageurs, {'attr': {
                            'class': 'w-full px-4 py-3 lg:py-4 border border-white/20 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all duration-300 bg-white/10 text-white hover:bg-white/20 shadow-sm',
                            'min': '1'
                        }}) }}
                        <i class="fas fa-users absolute right-4 top-1/2 transform -translate-y-1/2 text-white/60"></i>
                    </div>
                    {{ form_errors(form.nbrvoyageurs) }}
                </div>
                
                <div class="space-y-2">
                    {{ form_label(form.typevoyage, 'Type de voyage *', {'label_attr': {'class': 'block text-sm font-semibold text-white mb-2'}}) }}
                    <div class="relative">
                        {{ form_widget(form.typevoyage, {'attr': {
                            'class': 'w-full px-4 py-3 lg:py-4 border border-white/20 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all duration-300 bg-white/10 text-white hover:bg-white/20 shadow-sm appearance-none'
                        }}) }}
                        <i class="fas fa-chevron-down absolute right-4 top-1/2 transform -translate-y-1/2 text-white/60 pointer-events-none"></i>
                    </div>
                    {{ form_errors(form.typevoyage) }}
                </div>
            </div>
        </div>

        {# Préférences et budget #}
        <div class="pb-8">
            <div class="flex items-center mb-6">
                <div class="w-10 h-10 bg-gradient-to-r from-green-400 to-green-500 rounded-full flex items-center justify-center mr-4 shadow-lg">
                    <i class="fas fa-star text-white text-lg"></i>
                </div>
                <div>
                    <h2 class="text-xl lg:text-2xl font-bold text-white">Préférences et budget</h2>
                    <p class="text-white/80 text-sm mt-1">Vos centres d'intérêt et budget estimé</p>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 lg:gap-6">
                <div class="space-y-2">
                    {{ form_label(form.centreinteret, 'Centre d\'intérêt', {'label_attr': {'class': 'block text-sm font-semibold text-white mb-2'}}) }}
                    <div class="relative">
                        {{ form_widget(form.centreinteret, {'attr': {
                            'class': 'w-full px-4 py-3 lg:py-4 border border-white/20 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all duration-300 bg-white/10 text-white placeholder-white/50 hover:bg-white/20 shadow-sm',
                            'placeholder': 'Ex: Culture, Plage, Aventure...'
                        }}) }}
                        <i class="fas fa-heart absolute right-4 top-1/2 transform -translate-y-1/2 text-white/60"></i>
                    </div>
                    {{ form_errors(form.centreinteret) }}
                </div>
                
                <div class="space-y-2">
                    {{ form_label(form.budgetestime, 'Budget estimé (FCFA)', {'label_attr': {'class': 'block text-sm font-semibold text-white mb-2'}}) }}
                    <div class="relative">
                        {{ form_widget(form.budgetestime, {'attr': {
                            'class': 'w-full pl-12 pr-4 py-3 lg:py-4 border border-white/20 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all duration-300 bg-white/10 text-white placeholder-white/50 hover:bg-white/20 shadow-sm',
                            'placeholder': 'Ex: 150000'
                        }}) }}
                        <i class="fas fa-money-bill-wave absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"></i>
                        <span class="absolute right-4 top-1/2 transform -translate-y-1/2 text-white/70 font-medium">FCFA</span>
                    </div>
                    {{ form_errors(form.budgetestime) }}
                </div>
                
                <div class="md:col-span-2 space-y-2">
                    {{ form_label(form.commentaire, 'Commentaire ou demandes spéciales', {'label_attr': {'class': 'block text-sm font-semibold text-white mb-2'}}) }}
                    <div class="relative">
                        {{ form_widget(form.commentaire, {'attr': {
                            'class': 'w-full px-4 py-3 border border-white/20 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all duration-300 bg-white/10 text-white placeholder-white/50 hover:bg-white/20 shadow-sm resize-none',
                            'rows': '4',
                            'placeholder': 'Informations supplémentaires, allergies, préférences alimentaires, demandes spéciales...'
                        }}) }}
                        <i class="fas fa-comment absolute right-4 top-4 text-white/60"></i>
                    </div>
                    {{ form_errors(form.commentaire) }}
                </div>
            </div>
        </div>

        {# Actions #}
        <div class="flex flex-col sm:flex-row items-center justify-between pt-8 border-t border-white/20 gap-4">
            <div class="text-sm text-white/80 flex items-center">
                <i class="fas fa-info-circle mr-2 text-yellow-400"></i>
                Les champs marqués d'un <span class="text-yellow-400 mx-1">*</span> sont obligatoires
            </div>
            <div class="flex items-center gap-4">
                <a href="{{ path('admin_reservations_index') }}" class="inline-flex items-center gap-3 px-6 py-3 lg:px-8 lg:py-4 rounded-full font-semibold transition-all duration-300 bg-white/10 text-white border-2 border-white/20 hover:border-red-400 hover:text-red-200 hover:bg-red-500/20 shadow-sm hover:shadow-md">
                    <span>Annuler</span>
                </a>
                <button type="submit" class="inline-flex items-center gap-3 px-6 py-3 lg:px-8 lg:py-4 rounded-full font-bold transition-all duration-300 bg-gradient-to-r from-yellow-400 via-yellow-500 to-green-500 text-white shadow-lg hover:shadow-xl hover:-translate-y-1 transform hover:scale-105">
                    <span>{{ button_label|default('Enregistrer') }}</span>
                </button>
            </div>
        </div>

        {{ form_end(form) }}
    </div>
</div>

<style>
    /* Style personnalisé pour les selects */
    select {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23ffffff' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
        background-position: right 0.5rem center;
        background-repeat: no-repeat;
        background-size: 1.5em 1.5em;
        padding-right: 2.5rem;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
    }

    /* Style pour le datetime picker */
    input[type="datetime-local"] {
        color-scheme: dark;
    }

    input[type="datetime-local"]::-webkit-calendar-picker-indicator {
        filter: invert(1);
        cursor: pointer;
    }

    /* Style pour les placeholders */
    ::placeholder {
        color: rgba(255, 255, 255, 0.5) !important;
    }

    /* Animation shake pour les erreurs */
    @keyframes shake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-5px); }
        75% { transform: translateX(5px); }
    }

    .animate-shake {
        animation: shake 0.5s ease-in-out;
    }

    /* Style pour les erreurs */
    .form-error {
        color: #fecaca;
        font-size: 0.875rem;
        margin-top: 0.25rem;
        display: flex;
        align-items: center;
        gap: 0.25rem;
    }

    .form-error:before {
        content: "⚠";
        font-size: 0.75rem;
    }

    /* Correction pour le dégradé du texte */
    .bg-clip-text {
        -webkit-background-clip: text;
        background-clip: text;
    }
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Animation pour les champs au focus
    const inputs = document.querySelectorAll('input, select, textarea');
    inputs.forEach(input => {
        input.addEventListener('focus', function() {
            this.parentElement.classList.add('ring-2', 'ring-yellow-400/30');
        });
        
        input.addEventListener('blur', function() {
            this.parentElement.classList.remove('ring-2', 'ring-yellow-400/30');
        });
    });

    // Validation en temps réel
    const form = document.querySelector('form');
    form.addEventListener('submit', function(e) {
        let isValid = true;
        const requiredFields = form.querySelectorAll('[required]');
        
        requiredFields.forEach(field => {
            if (!field.value.trim()) {
                isValid = false;
                field.classList.add('border-red-400', 'bg-red-500/20');
            } else {
                field.classList.remove('border-red-400', 'bg-red-500/20');
            }
        });
        
        if (!isValid) {
            e.preventDefault();
            // Animation de secousse pour les champs invalides
            const invalidFields = form.querySelectorAll('.border-red-400');
            invalidFields.forEach(field => {
                field.classList.add('animate-shake');
                setTimeout(() => field.classList.remove('animate-shake'), 500);
            });
        }
    });
});
</script>
{% endblock %}