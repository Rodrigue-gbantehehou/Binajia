{% extends 'base.html.twig' %}
{% block title %}BINAJIA ‚Äî Culture, √©v√©nements, adh√©sion{% endblock %}



{% block content %}
	{# Hero Section - Style identique √† CTA communaut√© #}
	<section
		id="accueil" class="relative overflow-hidden min-h-screen -mt-20 pt-20 bg-gradient-to-br from-green-100 via-green-200 to-yellow-400 shadow-lg flex items-center" style="background: linear-gradient(135deg, rgba(0, 135, 29, 0.9), rgba(0, 135, 81, 0.9), rgb(255, 174, 0)), url('https://images.unsplash.com/photo-1605000797499-95a51c5269ae?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1471&q=80'); background-size: cover; background-position: center;">
		{# Animated Background Elements #}
		<div class="absolute top-0 right-0 w-96 h-96 bg-yellow-200 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse"></div>
		<div class="absolute bottom-0 left-0 w-96 h-96 bg-green-200 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse animation-delay-2000"></div>

		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16 text-white relative z-10 w-full">
			<div class="grid md:grid-cols-12 gap-8 items-center">
				<div
					class="md:col-span-6 space-y-6 opacity-0 translate-y-16 transition-all duration-1000 ease-out" data-scroll="fade-up">
					{# Titre BINAJIA imposant #}
					<div class="mb-8">
						<h1 class="font-serif font-black leading-none mb-4">
							<span class="block text-6xl sm:text-7xl md:text-8xl lg:text-9xl xl:text-[9rem] bg-gradient-to-r from-yellow-400 via-green-500 to-emerald-600 bg-clip-text text-transparent drop-shadow-2xl tracking-tight">
								BINAJIA
							</span>
						</h1>
						<p class="text-xl md:text-2xl text-white font-medium tracking-wide">
							R√©seau des Ambassadeurs Pour l'int√©gration et la coop√©ration entre le
							<span class="text-yellow-400">B√©nin</span>, le
							<span class="text-green-400">Nig√©ria</span>,
																																																																																						les diasporas africaines et les communaut√©s connect√©es √† l'Afrique dans le monde.
						</p>
					</div>

					<p class="text-sm text-justify md:text-base text-white/90 leading-relaxed max-w-2xl">
						N√© du lien entre le B√©nin et le Nig√©ria, Binajia est un mouvement de coop√©ration, de solidarit√© et de rayonnement entre l'Afrique, ses diasporas et les communaut√©s issues de son h√©ritage √† travers le monde.
					</p>

					<div class="mt-8 flex flex-wrap gap-4">
						<a href="{{ path('app_avantage') }}" class="group px-8 py-4 rounded-full font-bold text-green-900 bg-gradient-to-r from-yellow-400 to-yellow-400 hover:from-yellow-300 hover:to-yellow-400 transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 transform">
							<span class="flex items-center">
								Les avantages de Binajia
								<svg class="ml-2 w-5 h-5 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewbox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
								</svg>
							</span>
						</a>
						<a href="{{ path('app_membership') }}" class="group px-8 py-4 rounded-full font-bold text-white bg-white/10 backdrop-blur-sm border border-white/30 hover:bg-white/20 hover:border-white/50 transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 transform">
							<span class="flex items-center">
								Devenir membre
								<svg class="ml-2 w-5 h-5 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewbox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
								</svg>
							</span>
						</a>
					</div>
				</div>

				<div class="md:col-span-6 opacity-0 translate-y-20 transition-all duration-1000 ease-out delay-300" data-scroll="fade-up">
					<div
						class="relative">
						{# Carte √©v√©nements ‚Äî √©l√©gante #}
						<div class="relative bg-white/10 backdrop-blur-xl rounded-3xl shadow-xl p-5 md:p-6 max-w-md mx-auto border border-white/15">
							<h3 class="font-serif text-2xl md:text-3xl font-bold mb-2 text-white text-center">Prochains √©v√©nements</h3>
							<div class="flex items-center gap-4 py-2 justify-center">
								<button onclick="goToEvents()" class="group px-8 py-1 rounded-full font-bold text-white bg-yellow-400 backdrop-blur-sm border border-white/30 hover:bg-white/20 hover:border-white/50 transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 transform">
									<span class="flex items-center">Tickets</span>
								</button>
								<button onclick="goToReservation()" class="group px-8 py-1 bg-green-500 rounded-full font-bold text-white bg-green-400 backdrop-blur-sm border border-white/30 hover:bg-white/20 hover:border-white/50 transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 transform">
									<span class="flex items-center">R√©servation</span>
								</button>
							</div>

							<div class="space-y-3">
								{% for event in events %}
									<div class="flex items-start gap-4 p-3 rounded-xl bg-white/5 hover:bg-white/10 transition-colors border border-white/10">
										<div class="w-12 h-12 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-xl flex items-center justify-center text-white font-bold">
											{{ event.startDate is defined ? event.startDate|date('d') : event['startDate']|date('d') }}
										</div>
										<div class="flex-1">
											<h4 class="font-semibold text-white">{{ event.title is defined ? event.title : event['title'] }}</h4>
											<div class="text-sm text-white/80">
												{{ event.startDate is defined ? event.startDate|date('d M Y') : event['startDate']|date('d M Y') }}
												‚Ä¢
												{{ event.location is defined ? event.location : event['location'] }}
												{% if event.country is defined %}
													‚Ä¢
													{{ event.country }}
												{% elseif event['country'] is defined %}
													‚Ä¢
													{{ event['country'] }}
												{% endif %}
											</div>
										</div>
									</div>
								{% endfor %}
							</div>
							<a href="{{ path('app_events') }}" class="group w-full mt-6 bg-gradient-to-r from-yellow-400 to-yellow-400 hover:from-yellow-300 hover:to-yellow-400 text-green-900 inline-block px-6 py-4 rounded-full text-center font-bold transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 transform">
								<span class="flex items-center justify-center">
									Voir tous les √©v√©nements
									<svg class="ml-2 w-5 h-5 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewbox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
									</svg>
								</span>
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	{# Vision + Membership card - Enhanced #}
	<section id="apropos" class="py-14 relative overflow-hidden bg-cover">
		<div class="absolute inset-0 pattern-kente opacity-10 pointer-events-none"></div>
		<div class="absolute top-0 right-0 w-96 h-96 bg-yellow-200 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse"></div>
		<div class="absolute bottom-0 left-0 w-96 h-96 bg-green-200 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse"></div>

		<div
			class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
			{# Titre uniformis√© #}
			<div class="text-center mb-7 opacity-0 translate-y-16 transition-all duration-1000 ease-out" data-scroll="fade-up">
				<h2 class="font-serif text-4xl font-bold leading-tight  drop-shadow-lg md:text-5xl lg:text-6xl font-bold bg-gradient-to-r from-yellow-500 via-green-600 to-yellow-500 bg-clip-text text-transparent leading-tight text-center">Rejoignez Binajia - Devenez membre</h2>
				<h3 class="font-serif text-2xl md:text-3xl font-bold text-gray-600 mb-3 mt-3">
					<span class="bg-gray-600 bg-clip-text text-transparent">
						Pour une Afrique plus unie, plus connect√©e, plus rayonnante
					</span>
				</h3>
			</div>

			<div
				class="grid md:grid-cols-12 gap-10 items-center">
				<!-- Texte / Vision -->
				<div class="md:col-span-6 space-y-6 opacity-0 translate-y-16 transition-all duration-1000 ease-out" data-scroll="fade-up">
					<div class="mt-3 space-y-4 text-lg text-gray-700 leading-relaxed">
						<p class="transform hover:translate-x-2 transition-transform duration-300 text-justify">
							Binajia vous invite √† rejoindre une communaut√© engag√©e de b√¢tisseurs, de voyageurs, de cr√©ateurs et de penseurs qui ≈ìuvrent pour le rayonnement du continent et le renforcement des liens entre ses peuples et ses diasporas. En devenant membre, vous acc√©dez √† bien plus qu'une carte ‚Äî vous entrez dans un r√©seau vivant, solidaire et tourn√© vers l'avenir. √Ä cheval entre le B√©nin et le Nig√©ria, nous r√©inventons l'unit√© r√©gionale par la culture, la jeunesse et l'action locale.
						</p>
					</div>

					<!-- Accord√©on Description -->
					<div class="space-y-2 mt-6">
						<div class="border border-yellow-400 rounded-xl overflow-hidden">
							<button class="w-full text-left px-5 py-3 bg-yellow-200 hover:bg-yellow-400 font-semibold text-green-800 flex justify-between items-center accordion-header">
								Les avantages de la carte
								<span class="accordion-icon">‚ñ≤</span>
							</button>
							<div class="px-5 py-3 accordion-content text-gray-700">
								<ul class="list-disc list-inside space-y-2">
									<li>Acc√®s privil√©gi√© aux √©v√©nements culturels, spirituels et √©ducatifs organis√©s ou soutenus par Binajia</li>
									<li>Tarifs r√©duits sur les voyages guid√©s, les ateliers, les conf√©rences et les exp√©riences immersives</li>
									<li>Reconnaissance officielle en tant que membre fondateur ou ambassadeur du mouvement</li>
									<li>Opportunit√©s de collaboration avec des artistes, des porteurs de projets et des partenaires internationaux</li>
									<li>Acc√®s √† des contenus exclusifs : correspondances, r√©cits, archives, ressources culturelles</li>
									<li>Participation active √† une dynamique collective fond√©e sur la transmission, la cr√©ativit√© et l'engagement</li>
								</ul>
							</div>
						</div>
						<div class="border border-green-400 rounded-xl overflow-hidden">
							<button class="w-full text-left px-5 py-3 bg-green-200 hover:bg-green-300 font-semibold text-green-900 flex justify-between items-center accordion-header">
								Pourquoi devenir membre
								<span class="accordion-icon">‚ñº</span>
							</button>
							<div class="px-5 py-3 accordion-content text-gray-700 hidden">
								<ul class="list-disc list-inside space-y-2">
									<li>Pour soutenir une vision d'un continent fort, solidaire et ouvert</li>
									<li>Pour vivre des exp√©riences authentiques, enracin√©es dans les cultures et les territoires</li>
									<li>Pour grandir ensemble, en tissant des liens durables entre l'Afrique, ses diasporas et ses alli√©s</li>
								</ul>
							</div>
						</div>

						<div class="border border-green-400 rounded-xl overflow-hidden">
							<button class="w-full text-left px-5 py-3 bg-green-200 hover:bg-green-300 font-semibold text-green-900 flex justify-between items-center accordion-header">
								O√π utiliser votre carte
								<span class="accordion-icon">‚ñº</span>
							</button>
							<div class="px-5 py-3 accordion-content text-gray-700 hidden">
								<ul class="list-disc list-inside space-y-2">
									<li>Partout au B√©nin üáßüáØ chez nos partenaires</li>
									<li>Partout au Nig√©ria üá≥üá¨ chez nos partenaires</li>
									<li>Bient√¥t dans d'autres pays en Afrique et dans le monde</li>
								</ul>
							</div>
						</div>

						<div class="border border-yellow-400 rounded-xl overflow-hidden">
							<button class="w-full text-left px-5 py-3 bg-yellow-200 hover:bg-yellow-400 font-semibold text-green-800 flex justify-between items-center accordion-header">
								Comment obtenir la carte
								<span class="accordion-icon">‚ñº</span>
							</button>
							<div class="px-5 py-3 accordion-content text-gray-700 hidden">
								<ol class="list-decimal list-inside space-y-2">
									<li>Inscrivez-vous en ligne ou lors d'un √©v√©nement Binajia</li>
									<li>Payez une cotisation annuelle</li>
									<li>Recevez votre carte physique ou num√©rique</li>
									<li>Activez-la via notre application ou notre site web</li>
								</ol>
							</div>
						</div>
					</div>

					<div class="mt-8 flex flex-wrap gap-4">
						<a href="{{ path('app_membership') }}" class="group relative px-8 py-4 bg-gradient-to-r from-yellow-400 to-yellow-400 text-gray-900 rounded-full font-bold overflow-hidden transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-yellow-400 transform">
							<span class="relative z-10 flex items-center">
								Devenir membre
								<span class="inline-block transition-transform group-hover:translate-x-1 ml-2">‚Üí</span>
							</span>
							<span class="absolute inset-0 bg-gradient-to-r from-yellow-400 to-yellow-400 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></span>
						</a>
						<a href="{{ path('app_avantage') }}" class="group px-8 py-4 bg-white text-gray-900 rounded-full font-bold ring-2 ring-gray-300 hover:ring-green-500 transition-all duration-300 hover:scale-105 hover:shadow-xl transform">
							Voir les avantages
							<span class="inline-block transition-transform group-hover:translate-x-1 ml-2">‚Üí</span>
						</a>
					</div>
				</div>

				<!-- Cartes Membre -->
				<div class="md:col-span-6 relative flex justify-center md:justify-start">
					<div class="absolute -top-8 -left-8 w-32 h-32 md:w-48 md:h-48 bg-yellow-400 rounded-full blur-3xl opacity-40 animate-pulse"></div>
					<div class="absolute -bottom-8 -right-4 w-40 h-40 md:w-64 md:h-64 bg-green-400 rounded-full blur-3xl opacity-40 animate-pulse"></div>
					<div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 md:w-72 md:h-72 bg-yellow-400 rounded-full blur-3xl opacity-30 animate-pulse"></div>

					<div class="relative group opacity-0 translate-y-20 transition-all duration-1000 ease-out delay-300" data-scroll="fade-up">
						<div class="absolute inset-0 bg-gradient-to-br from-yellow-400 via-yellow-500 to-green-500 rounded-3xl blur-lg opacity-60 group-hover:opacity-80 transition-opacity duration-500"></div>

						<div class="relative bg-gradient-to-br from-yellow-400 via-yellow-500 to-green-500 rounded-3xl p-2 shadow-2xl transform hover:scale-105 transition-all duration-500 max-w-[600px] mx-auto">
							<div class="bg-white rounded-2xl p-4 overflow-hidden">
								<img src="{{ asset('media/binajia/binajiacarte.png') }}" alt="Cartes de membre Binajia" class="w-full h-auto rounded-xl shadow-lg">
								<div class="mt-4 text-center">
									<h3 class="font-bold text-xl bg-gradient-to-r from-yellow-400 to-green-600 bg-clip-text text-transparent mb-2">
										Cartes de Membre
									</h3>
									<p class="text-gray-600 text-sm">Votre passeport pour l'int√©gration B√©nin-Nig√©ria</p>
									<div class="mt-3 flex justify-center space-x-3">
										<div class="flex items-center space-x-1">
											<div class="w-2 h-2 bg-green-500 rounded-full"></div>
											<span class="text-xs text-gray-500">Actif</span>
										</div>
										<div class="flex items-center space-x-1">
											<div class="w-2 h-2 bg-yellow-400 rounded-full"></div>
											<span class="text-xs text-gray-500">Premium</span>
										</div>
										<div class="flex items-center space-x-1">
											<div class="w-2 h-2 bg-yellow-500 rounded-full"></div>
											<span class="text-xs text-gray-500">VIP</span>
										</div>
									</div>
								</div>
							</div>
							<div class="absolute -top-3 -right-3 w-8 h-8 bg-yellow-400 rounded-full animate-ping opacity-75"></div>
							<div class="absolute -bottom-3 -left-3 w-6 h-6 bg-green-300 rounded-full animate-ping opacity-75 animation-delay-1000"></div>
							<div class="absolute top-1/4 -right-2 w-4 h-4 bg-yellow-300 rounded-full animate-ping opacity-60 animation-delay-2000"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	{# Nos 6 Projets Phares - Couleurs logo #}
	<section id="projets" class="py-16 bg-gradient-to-br from-green-600 via-yellow-300 to-green-600 relative overflow-hidden" style="background: linear-gradient(135deg, rgba(0, 135, 29, 0.9), rgba(0, 135, 81, 0.9), rgb(255, 174, 0))">
		<div class="absolute top-0 right-0 w-96 h-96 bg-yellow-200 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse"></div>
		<div class="absolute bottom-0 left-0 w-96 h-96 bg-green-200 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse animation-delay-2000"></div>

		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
			<div class="text-center mb-12 opacity-0 translate-y-16 transition-all duration-1000 ease-out" data-scroll="fade-up">
				<h2 class="font-serif text-4xl font-bold leading-tight drop-shadow-lg md:text-5xl lg:text-6xl font-bold bg-gradient-to-r from-yellow-500 via-green-400 to-yellow-500 bg-clip-text text-transparent leading-tight text-center">Nos Six Projets Phares</h2>
				<h3 class="font-serif text-3xl md:text-4xl font-bold text-green-900 mb-3 mt-3">
					<span class="bg-white bg-clip-text text-transparent">
						Construire des ponts par des actions
					</span>
				</h3>
				<p class="text-base md:text-lg text-white max-w-3xl mx-auto leading-relaxed">
					Des actions tangibles pour relier
					<span class="font-bold text-yellow-500">cultures</span>,
					<span class="font-bold text-yellow-500">√©conomies</span>,
					<span class="font-bold text-yellow-500">√©changes</span>
					entre le B√©nin, le Nig√©ria, l'Afrique et sa diaspora.
				</p>
			</div>

			<div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
				{% for p in projets %}
					<div class="group relative rounded-3xl bg-white shadow-2xl hover:shadow-3xl transition-all duration-500 transform hover:-translate-y-3 hover:scale-105 opacity-0 translate-y-16 transition-all duration-1000 ease-out" data-scroll="fade-up" style="animation-delay: {{ loop.index * 150 }}ms">
						<div class="absolute inset-0 bg-gradient-to-br from-green-400/20 to-green-600/20 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
						<div class="relative p-6 flex flex-col h-full">
							<div class="mb-5">
								<div class="w-20 h-20 bg-gradient-to-br from-green-400 to-green-600 rounded-2xl flex items-center justify-center shadow-xl group-hover:shadow-2xl transition-all duration-300">
									<img src="{{ path('secure_upload', {'filename': p.logos}) }}" alt="Logo {{ p.nom }}" class="w-12 h-12 object-contain rounded-lg">
								</div>
							</div>

							<h3 class="font-bold text-xl text-green-900 mb-3 group-hover:text-green-600 transition-colors">{{ p.nom }}</h3>

							{# Description am√©lior√©e #}
							<div class="flex-grow mb-4">
								<p class="text-green-700 leading-relaxed text-sm line-clamp-3  transition-all duration-300">
									{{ p.description }}
								</p>
							</div>

							<div class="mt-auto pt-4 border-t border-green-100">
								<div class="flex items-center justify-between">
									<span class="px-3 py-1 bg-green-100 text-green-800 text-xs font-bold rounded-full">{{ p.nom|slice(0, 15) }}{{ p.nom|length > 15 ? '...' : '' }}</span>
									<a href="{{ path('projets_show', {'id': p.id}) }}" class="group/btn px-4 py-2 bg-gradient-to-r from-green-400 to-green-600 text-white rounded-full font-semibold text-sm transition-all duration-300 hover:shadow-lg hover:from-green-500 hover:to-green-700">
										D√©couvrir
										<span class="inline-block transition-transform group-hover/btn:translate-x-1 ml-1">‚Üí</span>
									</a>
								</div>
							</div>
						</div>
					</div>
				{% endfor %}
			</div>
		</div>
	</section>
	{# Mission - Design stable et moderne #}
	<section id="mission" class="py-14 bg-gradient-to-br from-green-50 via-yellow-50 to-green-50 relative overflow-hidden">
		<div class="absolute top-0 right-0 w-96 h-96 bg-green-200 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse"></div>
		<div class="absolute bottom-0 left-0 w-96 h-96 bg-yellow-200 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse animation-delay-2000"></div>

		<div
			class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
			{# Titre uniformis√© #}
			<div class="text-center mb-12 opacity-0 translate-y-16 transition-all duration-1000 ease-out" data-scroll="fade-up">
				<h2 class="font-serif text-4xl font-bold leading-tight drop-shadow-lg md:text-5xl lg:text-6xl font-bold bg-gradient-to-r from-yellow-500 via-green-500 to-yellow-500 bg-clip-text text-transparent leading-tight text-center">Notre mission</h2>
				<h3 class="font-serif text-2xl md:text-3xl font-bold text-green-900 mb-3 mt-3">
					<span class="bg-gray-600 bg-clip-text text-transparent">
						Connecter. Valoriser. Transformer. Promouvoir. √âchanger. B√¢tir. Rayonner.
					</span>
				</h3>
			</div>

			<div class="grid md:grid-cols-12 gap-12 items-center">
				<div
					class="md:col-span-12 space-y-8 opacity-0 translate-y-16 transition-all duration-1000 ease-out" data-scroll="fade-up">
					{# Mission points #}
					<div class="grid grid-cols-1 md:grid-cols-4 gap-4 mt-10">
						<div class="flex items-start space-x-4 p-4 bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300">
							<div class="w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0">
								<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>
								</svg>
							</div>
							<div>
								<h3 class="font-bold text-xl text-gray-900 mb-2">Connecter</h3>
								<p class="text-gray-600">Relier les peuples du B√©nin, du Nig√©ria, d'Afrique et de la diaspora √† travers des initiatives concr√®tes, des r√©seaux de coop√©ration et des ponts culturels, √©conomiques et humains.</p>
							</div>
						</div>

						<div class="flex items-start space-x-4 p-4 bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300">
							<div class="w-12 h-12 bg-gradient-to-br from-yellow-500 to-yellow-500 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0">
								<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/>
								</svg>
							</div>
							<div>
								<h3 class="font-bold text-xl text-gray-900 mb-2">Valoriser</h3>
								<p class="text-gray-600">Mettre en lumi√®re les cultures, les savoirs, les talents et les territoires, en c√©l√©brant la richesse et la diversit√© des identit√©s africaines et diasporiques.</p>
							</div>
						</div>

						<div class="flex items-start space-x-4 p-4 bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300">
							<div class="w-12 h-12 bg-gradient-to-br from-emerald-400 to-green-500 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0">
								<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
								</svg>
							</div>
							<div>
								<h3 class="font-bold text-xl text-gray-900 mb-2">Transformer</h3>
								<p class="text-gray-600">Changer les regards, les r√©cits et les dynamiques par des projets concrets qui inspirent, r√©√©quilibrent les repr√©sentations et cr√©ent de nouvelles perspectives.</p>
							</div>
						</div>

						<div class="flex items-start space-x-4 p-4 bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300">
							<div class="w-12 h-12 bg-gradient-to-br from-green-600 to-emerald-700 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0">
								<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"/>
								</svg>
							</div>
							<div>
								<h3 class="font-bold text-xl text-gray-900 mb-2">Promouvoir</h3>
								<p class="text-gray-600">Encourager l'unit√©, la paix, le tourisme responsable et la coop√©ration entre les peuples, en diffusant des valeurs de respect, de solidarit√© et d'ouverture.</p>
							</div>
						</div>

						<div class="flex items-start space-x-4 p-4 bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300">
							<div class="w-12 h-12 bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0">
								<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"/>
								</svg>
							</div>
							<div>
								<h3 class="font-bold text-xl text-gray-900 mb-2">√âchanger</h3>
								<p class="text-gray-600">Cr√©er des espaces de dialogue, de partage d'exp√©riences et de co-construction de solutions pour relever ensemble les d√©fis communs.</p>
							</div>
						</div>

						<div class="flex items-start space-x-4 p-4 bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300">
							<div class="w-12 h-12 bg-gradient-to-br from-emerald-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0">
								<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
								</svg>
							</div>
							<div>
								<h3 class="font-bold text-xl text-gray-900 mb-2">B√¢tir</h3>
								<p class="text-gray-600">Construire des structures durables, des partenariats solides et des projets tangibles qui renforcent l'int√©gration r√©gionale et diasporique.</p>
							</div>
						</div>

						<div class="flex items-start space-x-4 p-4 bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300">
							<div class="w-12 h-12 bg-gradient-to-br from-yellow-500 to-yellow-500 rounded-xl flex items-center justify-center shadow-lg flex-shrink-0">
								<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
								</svg>
							</div>
							<div>
								<h3 class="font-bold text-xl text-gray-600 mb-2">Rayonner</h3>
								<p class="text-gray-600">Diffuser l'√©nergie, les id√©es et les r√©ussites de Binajia pour inspirer, f√©d√©rer et amplifier l'impact √† l'√©chelle locale, continentale et mondiale.</p>
							</div>
						</div>


						<div class="mt-8 shadow-md p-6 bg-gradient-to-r from-green-200 to-green-300 rounded-xl border-l-4 border-yellow-500">
							<h3 class="font-bold text-xl text-gray-900 ">Binajia</h3>
							<p class="text-gray-800 font-semibold text-lg mb-2">Unis pour grandir ensemble.</p>
							<p class="text-gray-600">Une mission claire. Une √©nergie collective. Un horizon partag√©.</p>
						</div>
					</div>


					{# CTA am√©lior√© #}
					<div class="mt-12 opacity-0 translate-y-8 transition-all duration-1000 ease-out delay-500" data-scroll="fade-up">
						<a href="{{ path('app_about') }}" class="group relative inline-flex items-center px-8 py-4 bg-gradient-to-r from-yellow-400 via-yellow-400 to-yellow-400 text-white font-bold rounded-full overflow-hidden transition-all duration-500 hover:scale-110 hover:shadow-2xl hover:shadow-green-500/50 transform">
							<div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"></div>
							<span class="relative flex items-center justify-center">
								<svg class="mr-3 w-5 h-5 transition-transform group-hover:rotate-12" fill="none" stroke="currentColor" viewbox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
								</svg>
								<span class="font-semibold text-lg">D√©couvrir notre histoire</span>
								<svg class="ml-3 w-5 h-5 transition-transform group-hover:translate-x-2" fill="none" stroke="currentColor" viewbox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
								</svg>
							</span>
							<div class="absolute -inset-1 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full opacity-0 group-hover:opacity-30 blur-lg transition-opacity duration-500"></div>
						</a>

					</div>
				</div>


			</div>
		</div>
	</section>

	{# Donations - Design am√©lior√© avec mise en page moderne #}
	<section id="dons" class="py-16 relative overflow-hidden bg-gradient-to-br from-green-700 via-green-600 to-yellow-500">
		<!-- √âl√©ments d'arri√®re-plan d√©coratifs -->
		<div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMC4wNSkiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMC0yLjIwOS0xLjc5MS00LTQtNHMtNCAxLjc5MS00IDQgMS43OTEgNCA0IDQgNC0xLjc5MSA0LTR6Ii8+PC9nPjwvZz48L3N2Zz4=')]"></div>
		<div class="absolute top-0 right-0 w-96 h-96 bg-yellow-200 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse"></div>
		<div class="absolute bottom-0 left-0 w-96 h-96 bg-green-200 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse animation-delay-2000"></div>
		
		<!-- Contenu principal -->
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
			<!-- En-t√™te -->
			<div class="text-center mb-16 opacity-0 translate-y-16 transition-all duration-1000 ease-out" data-scroll="fade-up">
				<h2 class="font-serif text-4xl md:text-5xl lg:text-6xl font-bold bg-gradient-to-r from-yellow-500 via-green-500 to-yellow-500 drop-shadow-lg bg-clip-text text-transparent leading-tight mb-4">
					Soutenez notre mission
				</h2>
				<p class="text-xl md:text-2xl text-white font-medium max-w-3xl mx-auto">
					Ensemble, construisons l'avenir de la coop√©ration
				</p>
			</div>
			
			<!-- Contenu en grille -->
			<div class="grid md:grid-cols-12 gap-12 items-start">
				<!-- Colonne de gauche : Informations -->
				<div class="md:col-span-7 space-y-10">
					<!-- Introduction -->
					<div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20">
						<h3 class="text-2xl font-bold text-white mb-4">
							Votre soutien est essentiel pour p√©renniser nos actions
						</h3>
						<p class="text-white/90 text-lg leading-relaxed">
							Chaque contribution, quelle que soit sa taille, nous aide √† d√©velopper des projets concrets qui renforcent les √©changes culturels et √©conomiques entre le B√©nin, le Nig√©ria, l'Afrique et sa diaspora.
						</p>
					</div>
					
					<!-- Avantages -->
					<div class="grid md:grid-cols-2 gap-6">
						<div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 transition-all duration-300 hover:bg-white/15">
							<div class="flex items-center mb-4">
								<div class="w-10 h-10 rounded-full bg-yellow-400/20 flex items-center justify-center mr-3">
									<svg class="w-5 h-5 text-yellow-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
									</svg>
								</div>
								<h4 class="text-white font-bold text-lg">Impact direct</h4>
							</div>
							<p class="text-white/80 text-sm">
								Votre don finance directement nos programmes d'√©ducation, d'aide humanitaire et de d√©veloppement communautaire.
							</p>
						</div>
						
						<div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 transition-all duration-300 hover:bg-white/15">
							<div class="flex items-center mb-4">
								<div class="w-10 h-10 rounded-full bg-green-400/20 flex items-center justify-center mr-3">
									<svg class="w-5 h-5 text-green-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
									</svg>
								</div>
								<h4 class="text-white font-bold text-lg">Transparence</h4>
							</div>
							<p class="text-white/80 text-sm">
								Chaque don est trac√© et vous recevrez un rapport annuel d√©taill√© sur l'utilisation des fonds.
							</p>
						</div>
						
						<div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 transition-all duration-300 hover:bg-white/15">
							<div class="flex items-center mb-4">
								<div class="w-10 h-10 rounded-full bg-yellow-400/20 flex items-center justify-center mr-3">
									<svg class="w-5 h-5 text-yellow-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
									</svg>
								</div>
								<h4 class="text-white font-bold text-lg">Confidentialit√©</h4>
							</div>
							<p class="text-white/80 text-sm">
								Vous pouvez faire un don de mani√®re totalement anonyme si vous le souhaitez.
							</p>
						</div>
						
						<div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 transition-all duration-300 hover:bg-white/15">
							<div class="flex items-center mb-4">
								<div class="w-10 h-10 rounded-full bg-green-400/20 flex items-center justify-center mr-3">
									<svg class="w-5 h-5 text-green-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
									</svg>
								</div>
								<h4 class="text-white font-bold text-lg">Reconnaissance</h4>
							</div>
							<p class="text-white/80 text-sm">
								Pour les donateurs qui le souhaitent, nous offrons une reconnaissance publique de leur soutien.
							</p>
						</div>
					</div>
					
					<!-- Utilisation des fonds -->
					<div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20">
						<h4 class="text-white font-bold text-xl mb-4 text-center">√Ä quoi servent vos dons ?</h4>
						<div class="grid grid-cols-2 md:grid-cols-4 gap-4">
							<div class="text-center p-4 rounded-xl bg-white/5 hover:bg-white/10 transition-all duration-300">
								<div class="w-12 h-12 mx-auto mb-2 rounded-full bg-yellow-400/20 flex items-center justify-center">
									<svg class="w-6 h-6 text-yellow-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
									</svg>
								</div>
								<span class="text-white font-medium">√âv√©nements culturels</span>
							</div>
							<div class="text-center p-4 rounded-xl bg-white/5 hover:bg-white/10 transition-all duration-300">
								<div class="w-12 h-12 mx-auto mb-2 rounded-full bg-green-400/20 flex items-center justify-center">
									<svg class="w-6 h-6 text-green-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5z"/>
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"/>
									</svg>
								</div>
								<span class="text-white font-medium">Programmes √©ducatifs</span>
							</div>
							<div class="text-center p-4 rounded-xl bg-white/5 hover:bg-white/10 transition-all duration-300">
								<div class="w-12 h-12 mx-auto mb-2 rounded-full bg-yellow-400/20 flex items-center justify-center">
									<svg class="w-6 h-6 text-yellow-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
									</svg>
								</div>
								<span class="text-white font-medium">Aide humanitaire</span>
							</div>
							<div class="text-center p-4 rounded-xl bg-white/5 hover:bg-white/10 transition-all duration-300">
								<div class="w-12 h-12 mx-auto mb-2 rounded-full bg-green-400/20 flex items-center justify-center">
									<svg class="w-6 h-6 text-green-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"/>
									</svg>
								</div>
								<span class="text-white font-medium">D√©veloppement communautaire</span>
							</div>
						</div>
					</div>
				</div>
				
				<!-- Colonne de droite : Formulaire de don -->
				<div class="md:col-span-5">
					<div class="sticky top-8 bg-white/10 backdrop-blur-md rounded-3xl p-1 shadow-2xl overflow-hidden border border-white/20 transform hover:scale-[1.01] transition-all duration-500">
						<div class="p-6">
							<div class="text-center mb-6">
								<div class="inline-flex items-center justify-center w-20 h-20 rounded-full bg-white/10 mb-4">
									<svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
									</svg>
								</div>
								<h3 class="text-4xl font-bold text-yellow-400">Faire un don</h3>
								<p class="text-white/80 mt-2">S√©curis√© avec Fedapay</p>
							</div>

							<form id="donation-form">
								<!-- Option don anonyme -->
								<div class="mb-6 p-4 bg-white/5 rounded-xl border border-white/10">
									<label class="flex items-center space-x-3 cursor-pointer">
										<input type="checkbox" id="anonymous-donation" name="anonymous" class="w-5 h-5 text-primary border-white/30 rounded focus:ring-primary bg-white/10 focus:ring-2">
										<span class="text-white font-semibold text-lg">Faire un don anonyme</span>
									</label>
									<p class="text-white/70 text-xl mt-2 ml-8">
										Votre nom et email n'appara√Ætront pas dans nos listes de donateurs
									</p>
								</div>

								<!-- Section informations personnelles -->
								<div id="personal-info-section" class="space-y-4 transition-all duration-300">
									<div>
										<label class="block text-white/80 text-xl font-bold mb-2" for="don-nom">
											Votre nom *
										</label>
										<input type="text" id="don-nom" name="nom" required class="w-full bg-white/10 border border-white/20 rounded-xl py-3 px-4 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all duration-300" placeholder="Votre nom complet">
									</div>

									<div>
										<label class="block text-white/80 text-xl font-bold mb-2" for="don-email">
											Votre email *
										</label>
										<input type="email" id="don-email" name="email" required class="w-full bg-white/10 border border-white/20 rounded-xl py-3 px-4 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all duration-300" placeholder="votre@email.com">
									</div>
								</div>

								<!-- Montants pr√©d√©finis -->
								<div class="mt-6">
									<label class="block text-white/80 text-xl font-bold mb-3">Choisissez un montant</label>
									<div class="grid grid-cols-3 gap-3 mb-4">
										<button type="button" data-amount="1000" class="amount-btn bg-white/10 hover:bg-white/20 border border-white/20 rounded-xl py-3 text-white font-medium transition-all duration-300 hover:scale-105">
											1 000 F
										</button>
										<button type="button" data-amount="5000" class="amount-btn bg-yellow-500 hover:bg-yellow-400 border border-yellow-500 rounded-xl py-3 text-gray-900 font-bold transition-all duration-300 transform hover:scale-105 shadow-lg">
											5 000 F
										</button>
										<button type="button" data-amount="10000" class="amount-btn bg-white/10 hover:bg-white/20 border border-white/20 rounded-xl py-3 text-white font-medium transition-all duration-300 hover:scale-105">
											10 000 F
										</button>
									</div>
								</div>

								<!-- Montant personnalis√© -->
								<div class="mb-6">
									<label class="block text-white/80 text-xl font-bold mb-2" for="custom-amount">
										Ou montant personnalis√© (FCFA)
									</label>
									<div class="relative">
										<span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-white/70">F</span>
										<input type="number" id="custom-amount" name="montant" required class="w-full bg-white/10 border border-white/20 rounded-xl py-3 pl-8 pr-4 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:border-transparent transition-all duration-300" placeholder="Montant">
									</div>
								</div>

								<!-- Bouton de soumission -->
								<button type="button" class="w-full bg-gradient-to-r from-yellow-500 to-yellow-400 hover:from-yellow-400 hover:to-yellow-300 text-gray-900 font-bold py-4 px-6 rounded-full transition-all duration-300 hover:scale-105 hover:shadow-lg flex items-center justify-center mt-2" id="pay-btn" onclick="processDonation()">
									<svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/>
									</svg>
									Faire un don s√©curis√©
								</button>

								<!-- S√©curit√© -->
								<div class="mt-4 flex items-center justify-center space-x-2 text-white/60 text-sm">
									<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
									</svg>
									<span>Paiement s√©curis√© par Fedapay</span>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	{# Events highlight - Enhanced #}
	<section id="evenements" class="py-14 bg-gradient-to-br from-green-50 via-yellow-50 to-green-50 relative overflow-hidden">
		{# Animated Background #}
		{# Animated Background Elements #}<div class="absolute top-0 right-0 w-96 h-96 bg-yellow-200 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse"> </div>
		<div class="absolute bottom-0 left-0 w-96 h-96 bg-green-200 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse animation-delay-2000"></div>

		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
			<div class="text-center mb-12 opacity-0 translate-y-16 transition-all duration-1000 ease-out" data-scroll="fade-up">
				<h2 class="font-serif font-bold leading-tight  drop-shadow-lg text-4xl md:text-5xl lg:text-6xl font-bold bg-gradient-to-r from-yellow-500 via-green-400 to-yellow-500 bg-clip-text text-transparent leading-tight text-center">√âv√©nements √† venir</h2>
				<h3 class="font-serif text-2xl md:text-3xl font-bold text-green-900 mb-3 mt-3">
					<span class="bg-gray-600 bg-clip-text text-transparent">
						D√©couvrez nos prochaines exp√©riences culturelles
					</span>
				</h3>

			</div>
			<div class="flex flex-col md:flex-row md:items-end md:justify-end mb-10">

				<a href="{{ path('app_events') }}" class="group mt-4 md:mt-0 inline-flex items-center text-green-600 font-bold text-lg hover:text-green-700 transition-colors">
					Voir tous
					<span class="inline-block ml-2 transition-transform group-hover:translate-x-2">‚Üí</span>
				</a>
			</div>

			<div class="mt-6 grid md:grid-cols-3 gap-6">
				{% for event in events|slice(0, 3) %}
					<div class="group rounded-3xl overflow-hidden bg-white shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 hover:scale-105 opacity-0 translate-y-16 transition-all duration-1000 ease-out" data-scroll="fade-up" style="animation-delay: {{ loop.index * 200 }}ms">
						<div class="relative h-56 overflow-hidden">
							{% if event.image %}
								<img src="{{ path('secure_upload', {'filename': event.image}) }}" alt="{{ event.title }}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
							{% else %}
								<img src="https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?q=80&w=1200&auto=format&fit=crop" alt="{{ event.title }}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110">
							{% endif %}
							<div class="absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"></div>
							<div class="absolute top-4 right-4 px-4 py-2 bg-yellow-400 text-white rounded-full font-bold text-sm shadow-lg">
								Nouveau
							</div>
						</div>
						<div class="p-5">
							<div class="flex items-center gap-2 text-sm text-gray-500 mb-2">
								<span class="flex items-center">
									<svg class="w-4 h-4 mr-1 text-yellow-500" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg>
									{{ event.startDate ? event.startDate|date('d M Y') : 'Date non d√©finie' }}
								</span>
								<span>‚Ä¢</span>
								<span class="flex items-center">
									<svg class="w-4 h-4 mr-1 text-yellow-500" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/></svg>
									{{ event.location ?: 'Lieu non sp√©cifi√©' }}
								</span>
							</div>
							<h3 class="text-xl font-bold text-gray-900 mb-3 group-hover:text-yellow-400 transition-colors">{{ event.title ?: '√âv√©nement sans titre' }}</h3>
							<a href="{{ path('app_reservation_event', {'slug': event.slug}) }}" class="w-full px-5 py-3 bg-gradient-to-r from-yellow-400 to-yellow-400 text-white rounded-full font-semibold transition-all duration-300 hover:shadow-lg text-center block">
								R√©server maintenant
							</a>
						</div>
					</div>
				{% endfor %}
			</div>
		</div>
	</section>

	<section
		id="adhesion" class="py-14 bg-gradient-to-br from-green-800 via-emerald-700 to-yellow-400 relative overflow-hidden">
		{# Animated Background Elements #}
		<div class="absolute top-0 right-0 w-96 h-96 bg-yellow-200 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse"></div>
		<div class="absolute bottom-0 left-0 w-96 h-96 bg-green-200 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse animation-delay-2000"></div>
		<div class="text-center mb-12 opacity-0 translate-y-16 transition-all duration-1000 ease-out" data-scroll="fade-up">
			<h2 class="font-serif font-bold leading-tight  drop-shadow-lg text-4xl md:text-5xl lg:text-6xl font-bold bg-gradient-to-r from-yellow-500 via-green-400 to-yellow-500 bg-clip-text text-transparent leading-tight text-center">Rejoignez la communaut√© Binajia</h2>

		</div>
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">

			<div class="grid md:grid-cols-12 gap-10 items-center">
				<div class="md:col-span-7 space-y-6 text-white opacity-0 translate-y-16 transition-all duration-1000 ease-out" data-scroll="fade-up">


					<div class="mt-6 space-y-4 text-lg leading-relaxed">
						<p class="transform hover:translate-x-2 transition-transform duration-300">
							Acc√©dez √† des
							<span class="font-bold text-yellow-300">√©v√©nements exclusifs</span>, des avantages membres privil√©gi√©s et un r√©seau transfrontalier dynamique.
						</p>
						<p class="transform hover:translate-x-2 transition-transform duration-300">
							Connectez-vous avec des
							<span class="font-bold text-green-300">entrepreneurs, artistes et leaders</span>
							d'Afrique dans une communaut√© unie et solidaire.
						</p>
					</div>

					<div class="mt-8 flex flex-wrap gap-4">
						<a href="{{ path('app_membership') }}" class="group relative px-8 py-4 bg-gradient-to-r from-yellow-400 to-yellow-500 text-green-900 rounded-full font-bold overflow-hidden transition-all duration-300 hover:scale-105 hover:shadow-2xl hover:shadow-yellow-500/50 transform">
							<span class="relative z-10 flex items-center">
								Adh√©rer maintenant
								<span class="inline-block transition-transform group-hover:translate-x-1 ml-2">‚Üí</span>
							</span>
							<span class="absolute inset-0 bg-gradient-to-r from-yellow-300 to-yellow-400 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></span>
						</a>
						<a href="#evenements" class="group px-8 py-4 bg-white/10 text-white rounded-full font-bold ring-2 ring-white/30 hover:ring-white/50 transition-all duration-300 hover:scale-105 hover:shadow-xl transform backdrop-blur-md">
							D√©couvrir nos √©v√©nements
							<span class="inline-block transition-transform group-hover:translate-x-1 ml-2">‚Üí</span>
						</a>
					</div>

					{# Trust Indicators #}
					<div class="mt-12 grid grid-cols-2 md:grid-cols-4 gap-4">
						<div class="text-center bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20">
							<div class="text-2xl md:text-3xl font-black text-white mb-1">1000+</div>
							<div class="text-white/80 text-xs">Membres</div>
						</div>
						<div class="text-center bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20">
							<div class="text-2xl md:text-3xl font-black text-white mb-1">10+</div>
							<div class="text-white/80 text-xs">√âv√©nements/an</div>
						</div>

						<div class="text-center bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20">
							<div class="text-2xl md:text-3xl font-black text-white mb-1">100%</div>
							<div class="text-white/80 text-xs">Satisfaction</div>
						</div>
					</div>
				</div>

				<div class="md:col-span-5">
					<div
						class="relative flex justify-center md:justify-start">
						{# Animated Glow Effects #}
						<div class="absolute -top-8 -left-8 w-32 h-32 md:w-48 md:h-48 bg-yellow-400 rounded-full blur-3xl opacity-40 animate-pulse"></div>
						<div class="absolute -bottom-8 -right-4 w-40 h-40 md:w-64 md:h-64 bg-green-400 rounded-full blur-3xl opacity-40 animate-pulse"></div>
						<div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 md:w-72 md:h-72 bg-emerald-400 rounded-full blur-3xl opacity-30 animate-pulse"></div>

						{# Community Image with Enhanced Animation #}
						<div class="relative inline-block bg-gradient-to-br from-yellow-400 via-green-500 to-emerald-500 rounded-3xl p-1 shadow-2xl mx-auto max-w-[340px] sm:max-w-[380px] transform hover:scale-105 hover:rotate-1 transition-all duration-500">
							<div class="bg-gradient-to-br from-white to-gray-50 rounded-3xl p-6 overflow-hidden">
								<img
								src="{{ asset('/media/binajia/member-smiling.jpg') }}" alt="Communaut√© Binajia" class="w-full h-80 object-cover rounded-2xl shadow-lg">

								{# Overlay content #}
								<div class="mt-4 text-center">
									<h3 class="font-bold text-xl text-gray-900 mb-2">Rejoignez-nous</h3>
									<p class="text-gray-600 text-sm">Une communaut√© unie pour l'Afrique de l'Ouest</p>
									<div class="mt-3 flex justify-center space-x-2">
										<div class="w-3 h-3 bg-green-500 rounded-full"></div>
										<div class="w-3 h-3 bg-yellow-500 rounded-full"></div>
										<div class="w-3 h-3 bg-emerald-500 rounded-full"></div>
									</div>
								</div>
							</div>

							{# Sparkle Effect #}
							<div class="absolute -top-2 -right-2 w-6 h-6 bg-yellow-300 rounded-full animate-ping"></div>
							<div class="absolute -bottom-2 -left-2 w-4 h-4 bg-green-300 rounded-full animate-ping"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Section Partenaires -->
	<section
		id="partenaires" class="py-16 bg-gradient-to-br from-green-50 via-yellow-50 to-green-50 relative overflow-hidden">
		{# Animated Background Elements #}
		<div class="absolute top-0 right-0 w-96 h-96 bg-yellow-200 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse"></div>
		<div class="absolute bottom-0 left-0 w-96 h-96 bg-green-200 rounded-full mix-blend-multiply filter blur-3xl opacity-10 animate-pulse animation-delay-2000"></div>

		<div
			class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
			{# En-t√™te de section #}
			<div class="text-center mb-12 opacity-0 translate-y-16 transition-all duration-1000 ease-out" data-scroll="fade-up">
				<h2 class="font-serif text-4xl md:text-5xl lg:text-6xl font-bold bg-gradient-to-r from-yellow-500 via-green-600 to-yellow-500 bg-clip-text text-transparent leading-tight text-center">Nos partenaires</h2>
				<h3 class="font-serif text-2xl md:text-3xl font-bold text-gray-600 mb-3 mt-3">
					<span class="bg-gray-600 bg-clip-text text-transparent">
						D√©couvrez les entreprises et organisations qui nous soutiennent.
					</span>
				</h3>

			</div>

			{# Carrousel des partenaires #}
			<div class="relative py-8">
				<div class="relative">
					<button id="prevBtn" class="absolute -left-2 top-1/2 -translate-y-1/2 z-10 w-10 h-10 rounded-full bg-white shadow hover:shadow-md border border-gray-200 flex items-center justify-center text-gray-700 hover:text-gray-900">
						<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewbox="0 0 24 24" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
						</svg>
					</button>
					<div class="overflow-hidden">
						<div
							id="carouselTrack" class="flex gap-6 transition-transform duration-500 ease-out">
							{# Cartes logos (dupliqu√©es pour avoir assez d'items) #}
							{% for partenaire in partenaires %}
								<div class="p-4 bg-white rounded-2xl shadow-md w-40 h-40 sm:w-44 sm:h-44 md:w-48 md:h-48 flex-shrink-0 flex items-center justify-center hover:-translate-y-1 transition-transform duration-300">
									<img src="{{ path('secure_upload', {'filename': partenaire.logos}) }}" alt="Partenaire" class="w-full h-full object-contain p-4 opacity-70 hover:opacity-100 transition-opacity">
								</div>
							{% endfor %}
						</div>
					</div>
					<button id="nextBtn" class="absolute -right-2 top-1/2 -translate-y-1/2 z-10 w-10 h-10 rounded-full bg-white shadow hover:shadow-md border border-gray-200 flex items-center justify-center text-gray-700 hover:text-gray-900">
						<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewbox="0 0 24 24" stroke="currentColor">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
						</svg>
					</button>
				</div>
				<div id="indicators" class="flex justify-center items-center gap-2 mt-6"></div>
			</div>


		</div>
	</section>

	<!-- Overlay pour le traitement -->
	<div id="donationOverlay" class="fixed inset-0 z-[100] hidden">
		<div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
		<div class="absolute inset-0 flex items-center justify-center">
			<div class="bg-white rounded-xl shadow-xl p-6 flex items-center gap-4">
				<svg class="animate-spin h-6 w-6 text-primary" xmlns="http://www.w3.org/2000/svg" fill="none" viewbox="0 0 24 24">
					<circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
					<path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
				</svg>
				<div>
					<div class="font-semibold text-charcoal">Traitement de votre don</div>
					<div class="text-sm text-gray-600">Redirection vers Fedapay...</div>
				</div>
			</div>
		</div>
	</div>


<script src="https://cdn.fedapay.com/checkout.js?v=1.1.7"></script>
<script>
const FEDAPAY_PK = '{{ fedapay_public_key|e('js') }}';
let lastTransactionId = null;
let callbackFired = false;
let paymentCompleted = false;
let checkoutInstance = null;

document.addEventListener('DOMContentLoaded', function() {
    const amountButtons = document.querySelectorAll('.amount-btn');
    const customAmountInput = document.getElementById('custom-amount');
    const anonymousCheckbox = document.getElementById('anonymous-donation');
    const personalInfoSection = document.getElementById('personal-info-section');

    // Don anonyme
    anonymousCheckbox.addEventListener('change', function() {
        personalInfoSection.style.display = this.checked ? 'none' : 'block';
        if (this.checked) {
            document.getElementById('don-nom').value = '';
            document.getElementById('don-email').value = '';
        }
    });

    // S√âLECTION DU MONTANT AVEC CHANGEMENT DE COULEUR
    amountButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            // Retirer toutes les classes actives et r√©initialiser les styles
            amountButtons.forEach(b => {
                b.classList.remove('bg-yellow-400', 'text-gray-900', 'border-yellow-500', 'font-bold');
                b.classList.add('bg-white/10', 'text-white', 'border-white/20');
                
                // R√©initialiser les transformations
                b.style.transform = '';
                b.style.boxShadow = '';
                
                // Retirer le texte "Le plus choisi" sauf pour le bouton 5000F
                if (b.dataset.amount === '5000') {
                    const span = b.querySelector('span');
                    if (span) {
                        span.textContent = '';
                        span.className = 'block text-xs font-normal mt-1';
                    }
                }
            });
            
            // Appliquer le style actif au bouton cliqu√©
            this.classList.remove('bg-white/10', 'text-white', 'border-white/20');
            this.classList.add('bg-yellow-400', 'text-gray-900', 'border-yellow-500', 'font-bold');
            
            // Ajouter des effets visuels
            this.style.transform = 'translateY(-2px)';
            this.style.boxShadow = '0 10px 25px -5px rgba(0, 0, 0, 0.3)';
            
            // Mettre √† jour le span du bouton 5000F si c'est lui qui est cliqu√©
            if (this.dataset.amount === '5000') {
                const span = this.querySelector('span');
                if (span) {
                    span.textContent = '';
                    span.className = 'block text-xs font-semibold mt-1';
                }
            }
            
            customAmountInput.value = this.dataset.amount;
        });
    });

    // R√©initialiser la s√©lection quand on tape un montant personnalis√©
    customAmountInput.addEventListener('input', function() {
        amountButtons.forEach(b => {
            b.classList.remove('bg-yellow-400', 'text-gray-900', 'border-yellow-500', 'font-bold');
            b.classList.add('bg-white/10', 'text-white', 'border-white/20');
            b.style.transform = '';
            b.style.boxShadow = '';
            
            // Restaurer le texte original pour le bouton 5000F
            if (b.dataset.amount === '5000') {
                const span = b.querySelector('span');
                if (span) {
                    span.textContent = 'Le plus choisi';
                    span.className = 'block text-xs font-normal mt-1';
                }
            }
        });
    });
});

async function processDonation() {
    const form = document.getElementById('donation-form');
    const formData = new FormData(form);
    const amount = parseFloat(formData.get('montant'));

    if (!amount || amount < 100) {
        alert('Le montant minimum est 100 FCFA.');
        return;
    }

    const isAnonymous = document.getElementById('anonymous-donation').checked;
    const donationData = {
        nom: isAnonymous ? 'Donateur Anonyme' : formData.get('nom'),
        email: isAnonymous ? 'anonyme@binajia.org' : formData.get('email'),
        montant: amount
    };

    const payBtn = document.getElementById('pay-btn');
    payBtn.disabled = true;
    payBtn.textContent = 'Paiement en cours‚Ä¶';

    // R√©initialiser les flags
    callbackFired = false;
    paymentCompleted = false;
    lastTransactionId = null;

    function resetButton() {
        payBtn.disabled = false;
        payBtn.innerHTML = `
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewbox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/>
            </svg>
            Faire un don s√©curis√©
        `;
    }

    function onResult(response) {
        // Emp√™cher les appels multiples
        if (callbackFired) return;
        callbackFired = true;

        console.log('FedaPay callback:', response);

        // V√âRIFICATION CRITIQUE : s'assurer que la transaction est valide et pay√©e
        if (!response || !response.transaction || !response.transaction.id) {
            console.log('Transaction invalide ou annul√©e');
            resetButton();
            return;
        }

        // V√©rifier le statut de la transaction
        const transactionStatus = response.transaction.status ? response.transaction.status.toLowerCase() : 'pending';
        const paidStatuses = ['approved', 'succeeded', 'success', 'paid'];
        
        if (!paidStatuses.includes(transactionStatus)) {
            console.log('Transaction non pay√©e, statut:', transactionStatus);
            resetButton();
            return;
        }

        // Marquer le paiement comme compl√©t√©
        paymentCompleted = true;
        lastTransactionId = response.transaction.id;
        
        // Sauvegarder seulement si le paiement est r√©ussi
        saveDonation(donationData, lastTransactionId);
    }

    checkoutInstance = FedaPay.init({
        public_key: FEDAPAY_PK,
        transaction: { 
            amount: amount, 
            currency: {"iso" : "XOF"}, 
            description: `Don Binajia - ${amount} FCFA` ,
			channels: ['mtn', 'moov', 'Visa/MasterCard']
        },
        customer: { email: donationData.email },
        callback: onResult,
        onComplete: onResult,
		
        onClose: function() {
            console.log('FedaPay modal ferm√©');
            
            // V√©rifier apr√®s un petit d√©lai pour laisser le callback s'ex√©cuter
            setTimeout(() => {
                // Si le callback n'a pas √©t√© d√©clench√© OU le paiement n'est pas compl√©t√©
                if (!callbackFired || !paymentCompleted) {
                    console.log('Paiement annul√© par l\'utilisateur');
                    alert('Paiement annul√©. Vous pouvez r√©essayer si vous le souhaitez.');
                    resetButton();
                }
            }, 1000);
        },
        
        onError: function(error) {
            console.log('Erreur FedaPay:', error);
            alert('Erreur lors du processus de paiement. Veuillez r√©essayer.');
            resetButton();
        }
    });

    checkoutInstance.open();
}

async function saveDonation(donationData, transactionId) {
    const payBtn = document.getElementById('pay-btn');
    try {
        const response = await fetch('{{ path('app_don_process') }}', {
            method: 'POST',
            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
            body: new URLSearchParams({
                nom: donationData.nom,
                email: donationData.email,
                montant: donationData.montant,
                transaction_id: transactionId
            })
        });

        const data = await response.json();
        console.log('Save donation response:', data);

        if (data.success) {
            // Rediriger vers la page de confirmation seulement si le don est enregistr√© avec succ√®s
            console.log('Redirection vers confirmation pour don ID:', data.don_id);
            window.location.href = `/don/confirmation/${data.don_id}`;
        } else {
            alert('Erreur lors de l\'enregistrement du don: ' + data.message);
            resetButton();
        }
       
    } catch (err) {
        console.error('Erreur serveur:', err);
        alert('Erreur de connexion au serveur. Veuillez r√©essayer.');
        resetButton();
    }
}

// Fonction utilitaire pour r√©initialiser le bouton
function resetButton() {
    const payBtn = document.getElementById('pay-btn');
    if (payBtn) {
        payBtn.disabled = false;
        payBtn.innerHTML = `
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewbox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"/>
            </svg>
            Faire un don s√©curis√©
        `;
    }
}

function goToEvents() {
window.location.href = "{{ path('app_events') }}";
}

function goToReservation() {
window.location.href = "{{ path('app_reserver') }}";
}

// Scroll animations with Tailwind classes
document.addEventListener('DOMContentLoaded', function () {
const scrollElements = document.querySelectorAll('[data-scroll]');

const elementInView = (el, dividend = 1) => {
const elementTop = el.getBoundingClientRect().top;
return(elementTop <= (window.innerHeight || document.documentElement.clientHeight) / dividend);
};

const displayScrollElement = (element) => {
element.classList.add('opacity-100', 'translate-y-0');
element.classList.remove('opacity-0', 'translate-y-16', 'translate-y-20');
};

const hideScrollElement = (element) => {
element.classList.remove('opacity-100', 'translate-y-0');
element.classList.add('opacity-0');
};

const handleScrollAnimation = () => {
scrollElements.forEach((el) => {
if (elementInView(el, 1.25)) {
displayScrollElement(el);
}
});
};

// Check on load
handleScrollAnimation();

// Check on scroll
window.addEventListener('scroll', () => {
handleScrollAnimation();
});
});


document.querySelectorAll('.accordion-header').forEach(button => {
const content = button.nextElementSibling;
// Ouvrir le premier √©l√©ment par d√©faut
if (button.querySelector('.accordion-icon').textContent === '‚ñ≤') {
content.classList.remove('hidden');
content.style.maxHeight = content.scrollHeight + "px";
} else {
content.classList.add('hidden');
content.style.maxHeight = 0;
}

button.addEventListener('click', () => {
const isOpen = ! content.classList.contains('hidden');
if (isOpen) {
content.style.maxHeight = 0;
content.classList.add('hidden');
button.querySelector('.accordion-icon').textContent = '‚ñº';
} else {
content.classList.remove('hidden');
content.style.maxHeight = content.scrollHeight + "px";
button.querySelector('.accordion-icon').textContent = '‚ñ≤';
}
});
});
// Fade-up au scroll

document.addEventListener('DOMContentLoaded', function () {
const track = document.getElementById('carouselTrack');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const indicatorsContainer = document.getElementById('indicators');

if (! track) 
return;



const cards = track.children;
const totalCards = cards.length;

if (totalCards === 0) 
return;



let currentIndex = 0;
let cardWidth = cards[0].offsetWidth;
let gap = 24; // 6 * 4px (gap-6 in Tailwind)
let autoPlayInterval;

// Calculer combien de cartes sont visibles
function getVisibleCards() {
const containerWidth = track.parentElement.offsetWidth;
return Math.floor(containerWidth / (cardWidth + gap)) || 1;
}

let visibleCards = getVisibleCards();
const maxIndex = Math.max(0, totalCards - visibleCards);

// Cr√©er les indicateurs
function createIndicators() {
indicatorsContainer.innerHTML = '';
const numIndicators = maxIndex + 1;

for (let i = 0; i <= maxIndex; i++) {
const dot = document.createElement('button');
dot.className = 'w-2 h-2 rounded-full transition-all duration-300';
dot.style.backgroundColor = i === 0 ? '#EAB308' : '#D1D5DB';
dot.onclick = () => goToSlide(i);
indicatorsContainer.appendChild(dot);
}
}

// Mettre √† jour les indicateurs
function updateIndicators() {
const dots = indicatorsContainer.children;
Array.from(dots).forEach((dot, i) => {
dot.style.backgroundColor = i === currentIndex ? '#EAB308' : '#D1D5DB';
dot.style.width = i === currentIndex ? '2rem' : '0.5rem';
});
}

// D√©placer le carousel
function moveCarousel() {
const offset = -(currentIndex * (cardWidth + gap));
track.style.transform = `translateX(${offset}px)`;
updateIndicators();
}

// Aller √† une slide sp√©cifique
function goToSlide(index) {
currentIndex = Math.max(0, Math.min(index, maxIndex));
moveCarousel();
resetAutoPlay();
}

// Navigation suivante
function nextSlide() {
currentIndex = currentIndex >= maxIndex ? 0 : currentIndex + 1;
moveCarousel();
}

// Navigation pr√©c√©dente
function prevSlide() {
currentIndex = currentIndex <= 0 ? maxIndex : currentIndex - 1;
moveCarousel();
}

// Auto-play
function startAutoPlay() {
autoPlayInterval = setInterval(nextSlide, 3000);
}

function stopAutoPlay() {
clearInterval(autoPlayInterval);
}

function resetAutoPlay() {
stopAutoPlay();
startAutoPlay();
}

// Event listeners
nextBtn.addEventListener('click', () => {
nextSlide();
resetAutoPlay();
});

prevBtn.addEventListener('click', () => {
prevSlide();
resetAutoPlay();
});

// Pause au survol
track.addEventListener('mouseenter', stopAutoPlay);
track.addEventListener('mouseleave', startAutoPlay);

// Support tactile
let touchStartX = 0;
let touchEndX = 0;

track.addEventListener('touchstart', (e) => {
touchStartX = e.changedTouches[0].screenX;
stopAutoPlay();
});

track.addEventListener('touchend', (e) => {
touchEndX = e.changedTouches[0].screenX;
handleSwipe();
startAutoPlay();
});

function handleSwipe() {
const swipeThreshold = 50;
if (touchStartX - touchEndX > swipeThreshold) {
nextSlide();
} else if (touchEndX - touchStartX > swipeThreshold) {
prevSlide();
}
}

// Recalculer au redimensionnement
window.addEventListener('resize', () => {
cardWidth = cards[0].offsetWidth;
visibleCards = getVisibleCards();
const newMaxIndex = Math.max(0, totalCards - visibleCards);

if (currentIndex > newMaxIndex) {
currentIndex = newMaxIndex;
}

createIndicators();
moveCarousel();
});

// Initialisation
createIndicators();
startAutoPlay();
});
	</script>

	<style>
		.line-clamp-3 {
			display: -webkit-box;
			-webkit-line-clamp: 3;
			-webkit-box-orient: vertical;
			overflow: hidden;
		}

		/* Animation pour les boutons */
		#prevBtn:active,
		#nextBtn:active {
			transform: translateY(-50%) scale(0.95);
		}
	</style>

{% endblock %}
