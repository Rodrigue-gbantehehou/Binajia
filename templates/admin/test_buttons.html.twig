{% extends 'admin/base.html.twig' %}

{% block title %}Test des Boutons — Administration{% endblock %}

{% block admin_body %}
  <div class="space-y-8">
    {# Header Section #}
    <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4">
      <div>
        <h1 class="text-3xl font-bold text-gray-900 mb-2">
          <i class="fas fa-flask text-purple-600 mr-3"></i>Test des Boutons
        </h1>
        <p class="text-gray-600">Page de test pour vérifier le fonctionnement des boutons admin</p>
      </div>
    </div>

    {# Test Buttons Grid #}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      
      {# Export Tests #}
      <div class="admin-card">
        <h3 class="text-lg font-semibold text-gray-900 mb-4 flex items-center">
          <i class="fas fa-download text-blue-500 mr-2"></i>Tests d'Export
        </h3>
        <div class="space-y-3">
          <button class="w-full admin-btn admin-btn-primary" data-action="export" data-entity="members" data-type="csv">
            <i class="fas fa-users mr-2"></i>Exporter Membres (CSV)
          </button>
          <button class="w-full admin-btn admin-btn-secondary" data-action="export" data-entity="events" data-type="xlsx">
            <i class="fas fa-calendar mr-2"></i>Exporter Événements (Excel)
          </button>
          <button class="w-full admin-btn admin-btn-secondary" data-action="export" data-entity="config" data-type="json">
            <i class="fas fa-cog mr-2"></i>Exporter Config (JSON)
          </button>
        </div>
      </div>

      {# System Actions #}
      <div class="admin-card">
        <h3 class="text-lg font-semibold text-gray-900 mb-4 flex items-center">
          <i class="fas fa-server text-green-500 mr-2"></i>Actions Système
        </h3>
        <div class="space-y-3">
          <button class="w-full admin-btn admin-btn-secondary" data-action="clear-cache">
            <i class="fas fa-sync-alt mr-2"></i>Vider le Cache
          </button>
          <button class="w-full admin-btn admin-btn-secondary" data-action="optimize-db">
            <i class="fas fa-database mr-2"></i>Optimiser la DB
          </button>
          <button class="w-full admin-btn admin-btn-secondary" data-action="backup">
            <i class="fas fa-file-export mr-2"></i>Créer un Backup
          </button>
          <button class="w-full admin-btn admin-btn-danger" data-action="maintenance" data-active="false">
            <i class="fas fa-exclamation-triangle mr-2"></i>Mode Maintenance
          </button>
        </div>
      </div>

      {# CRUD Actions #}
      <div class="admin-card">
        <h3 class="text-lg font-semibold text-gray-900 mb-4 flex items-center">
          <i class="fas fa-edit text-orange-500 mr-2"></i>Actions CRUD
        </h3>
        <div class="space-y-3">
          <button class="w-full admin-btn admin-btn-primary" data-action="save-settings">
            <i class="fas fa-save mr-2"></i>Sauvegarder
          </button>
          <button class="w-full admin-btn admin-btn-danger" data-action="delete" data-id="123" data-type="test">
            <i class="fas fa-trash mr-2"></i>Supprimer Test
          </button>
          <button class="w-full admin-btn admin-btn-secondary" data-action="bulk" data-bulk-action="activate">
            <i class="fas fa-check mr-2"></i>Action en Lot
          </button>
        </div>
      </div>

      {# Card Management #}
      <div class="admin-card">
        <h3 class="text-lg font-semibold text-gray-900 mb-4 flex items-center">
          <i class="fas fa-id-card text-purple-500 mr-2"></i>Gestion Cartes
        </h3>
        <div class="space-y-3">
          <button class="w-full admin-btn admin-btn-primary" data-action="activate-card" data-card-id="456">
            <i class="fas fa-check mr-2"></i>Activer Carte
          </button>
          <button class="w-full admin-btn admin-btn-danger" data-action="revoke-card" data-card-id="789">
            <i class="fas fa-ban mr-2"></i>Révoquer Carte
          </button>
        </div>
      </div>

      {# Notification Tests #}
      <div class="admin-card">
        <h3 class="text-lg font-semibold text-gray-900 mb-4 flex items-center">
          <i class="fas fa-bell text-yellow-500 mr-2"></i>Tests Notifications
        </h3>
        <div class="space-y-3">
          <button class="w-full admin-btn admin-btn-primary" onclick="AdminDashboard.showNotification('success', 'Test de notification de succès!')">
            <i class="fas fa-check-circle mr-2"></i>Succès
          </button>
          <button class="w-full admin-btn admin-btn-secondary" onclick="AdminDashboard.showNotification('info', 'Test de notification d\'information!')">
            <i class="fas fa-info-circle mr-2"></i>Information
          </button>
          <button class="w-full admin-btn admin-btn-secondary" onclick="AdminDashboard.showNotification('warning', 'Test de notification d\'avertissement!')">
            <i class="fas fa-exclamation-triangle mr-2"></i>Avertissement
          </button>
          <button class="w-full admin-btn admin-btn-danger" onclick="AdminDashboard.showNotification('error', 'Test de notification d\'erreur!')">
            <i class="fas fa-exclamation-circle mr-2"></i>Erreur
          </button>
        </div>
      </div>

      {# Modal Tests #}
      <div class="admin-card">
        <h3 class="text-lg font-semibold text-gray-900 mb-4 flex items-center">
          <i class="fas fa-window-maximize text-indigo-500 mr-2"></i>Tests Modales
        </h3>
        <div class="space-y-3">
          <button class="w-full admin-btn admin-btn-primary" onclick="AdminDashboard.showConfirmModal('Test Modal', 'Ceci est un test de modal de confirmation.', 'Confirmer', 'primary', () => AdminDashboard.showNotification('success', 'Modal confirmée!'))">
            <i class="fas fa-check mr-2"></i>Modal Primaire
          </button>
          <button class="w-full admin-btn admin-btn-danger" onclick="AdminDashboard.showConfirmModal('Attention!', 'Ceci est un test de modal de danger.', 'Supprimer', 'danger', () => AdminDashboard.showNotification('error', 'Action dangereuse confirmée!'))">
            <i class="fas fa-exclamation-triangle mr-2"></i>Modal Danger
          </button>
        </div>
      </div>
    </div>

    {# Test Table with Actions #}
    <div class="admin-card p-0 overflow-hidden">
      <div class="px-6 py-4 border-b border-gray-200">
        <h3 class="text-lg font-semibold text-gray-900">Tableau de Test avec Actions</h3>
      </div>
      
      <div class="overflow-x-auto">
        <table class="admin-table">
          <thead>
            <tr>
              <th class="w-12">
                <input type="checkbox" class="rounded border-gray-300 text-green-600 focus:ring-green-500">
              </th>
              <th>Nom</th>
              <th>Type</th>
              <th>Statut</th>
              <th class="text-right">Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for i in 1..5 %}
              <tr class="hover:bg-gray-50 transition-colors duration-150">
                <td>
                  <input type="checkbox" class="rounded border-gray-300 text-green-600 focus:ring-green-500">
                </td>
                <td>
                  <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center flex-shrink-0">
                      <span class="text-white text-xs font-bold">{{ i }}</span>
                    </div>
                    <div>
                      <div class="font-medium text-gray-900">Élément Test {{ i }}</div>
                      <div class="text-xs text-gray-400">ID: #{{ i }}00</div>
                    </div>
                  </div>
                </td>
                <td>
                  <span class="admin-badge admin-badge-info">
                    <i class="fas fa-tag mr-1"></i>
                    Test
                  </span>
                </td>
                <td>
                  <span class="admin-badge admin-badge-success">
                    <i class="fas fa-check mr-1"></i>
                    Actif
                  </span>
                </td>
                <td class="text-right">
                  <div class="flex items-center justify-end gap-1">
                    <button class="inline-flex items-center justify-center w-8 h-8 rounded-lg text-sm transition-all duration-200 bg-blue-50 text-blue-600 hover:bg-blue-100" 
                            title="Voir">
                      <i class="fas fa-eye text-xs"></i>
                    </button>
                    <button class="inline-flex items-center justify-center w-8 h-8 rounded-lg text-sm transition-all duration-200 bg-green-50 text-green-600 hover:bg-green-100" 
                            title="Modifier">
                      <i class="fas fa-edit text-xs"></i>
                    </button>
                    <button class="inline-flex items-center justify-center w-8 h-8 rounded-lg text-sm transition-all duration-200 bg-red-50 text-red-600 hover:bg-red-100" 
                            title="Supprimer" data-action="delete" data-id="{{ i }}00" data-type="élément test">
                      <i class="fas fa-trash text-xs"></i>
                    </button>
                  </div>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>

    {# Instructions #}
    <div class="admin-card bg-blue-50 border-blue-200">
      <h3 class="text-lg font-semibold text-blue-900 mb-4 flex items-center">
        <i class="fas fa-info-circle text-blue-600 mr-2"></i>Instructions de Test
      </h3>
      <div class="text-blue-800 space-y-2">
        <p><strong>1. Tests d'Export :</strong> Cliquez sur les boutons d'export pour tester le téléchargement de fichiers.</p>
        <p><strong>2. Actions Système :</strong> Testez les actions de maintenance (cache, DB, backup, maintenance).</p>
        <p><strong>3. Actions CRUD :</strong> Testez la sauvegarde, suppression et actions en lot.</p>
        <p><strong>4. Gestion Cartes :</strong> Testez l'activation et révocation de cartes.</p>
        <p><strong>5. Notifications :</strong> Testez les différents types de notifications.</p>
        <p><strong>6. Modales :</strong> Testez les modales de confirmation.</p>
        <p><strong>7. Tableau :</strong> Testez les actions de suppression dans le tableau.</p>
      </div>
    </div>
  </div>
{% endblock %}
